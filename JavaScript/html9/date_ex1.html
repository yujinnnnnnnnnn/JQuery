<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<script type="text/javascript">
		function proc(){
			
			//오늘 날짜 (Date 객체)
			var currDate = new Date(); 
			
			console.log(currDate.getTime()); //currTime을 milisec으로 리턴 
			
			//7일 뒤 날짜 계산
			var afterTime = currDate.getTime() + (7 * 24 * 60 * 60 * 1000);  //7일에 대한 milisec 
											//   일       시간       분        초          milisec
 			var afterDate = new Date(afterTime); //7일 후의 날짜
			//현재시간 화면에 표시
			document.getElementById("spCurrTime").innerHTML = currDate;
			
			document.getElementById("spAtfer").innerHTML = afterDate;
		}
		function checkDate(){
			
			var buyDate = document.getElementById("buyDate").value;
			
			console.log(buyDate);
			console.log("구입일자 Date : " + new Date(buyDate));
			
// 			var buyTime = (new Date(buyDate)).getTime();// 구매시간 //new Date(2021-05-12)
			
			// new Date(buyDate) ==> 2021-05-10 오전 9시
			// new Date("2021-05-10 ") ==> 2021-05-10 오전 0시
			// new Date("2021-05-10 00:00") ==> 2021-05-10 오전 0시
			// new Date("2021-05-10 00:00:00") ==> 2021-05-10 오전 0시
			
			var buyTime = (new Date(buyDate) + "00:00:00").getTime();// 구매시간 //new Date(2021-05-12)
			
			var crrDate = new Date();
			console.log("현재일자 Date : " + new Date(crrDate));
			
			var crrTime = crrDate.getTime(); // 오늘 시간  //소수점 버려서 하루로 설정
			
			var result = (crrTime - buyTime)/1000/60/24;
								//milisec    sec 분  시   일
			
			console.log(result);
			if(result > 8){
				alert("교환기간이 지났습니다. 교환기간을 7일 입니다");
			}else {
				alert("교환이 가능합니다");
			}
		}
	</script>
</head>
<body>
	<button type="button" onclick="proc()">수행</button>
	<p>현재시간은 <span id="spCurrTime"></span>~입니다</p>
	<p>7일 후 시간은 <span id="spAtfer"></span>~입니다</p>
	
	구입날짜 : <input type="Date" id="buyDate">
	<button type="button" onclick="checkDate()">검사</button>
</body>
</html>